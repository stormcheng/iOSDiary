
一、分析层次结构

1.头部视图
2.选项卡视图
3.内容展示视图(tableView)

-   问题:内部视图和选项卡视图，不能添加到内容视图的头部视图上，`因为向上拖动的时候会拖没`。
-   解决: 把头部视图和选项卡视图,内容展示视图分别添加到self.view上。

二、分析视图的尺寸和位置

内容视图: 当往上拖动的时候，内容视图里面的内容会往上移动。

思考:tableView不能放在选项卡下边，拖动tableView的时候，内容不会有上移动的感觉，而是滚出tableView范围的cell会离开屏幕，不显示出来。

问题:怎么才能让tableView的内容有上移动的感觉
解决:让整个tableView占据整个控制器的视图，tableView的内容就可以往上滚动了。

问题:如何让tableView的内容一开始显示在选项卡下边.
解决:可以设置tableView的顶部额外滚动区域为选项卡的最大y值。

问题：拖动tableView的时候，如何让穿过选项卡的内容是看不到的。。
解决:tableView应该添加到视图的最后面。

三、3个子视图的结构和位置
`3个子视图的大致结构，先添加tableView占据整个控制器的视图，在添加头部视图，和选项卡视图，选项卡在头部下边。`

四、监听tableView的滚动
-   向上滚动
    -   头部视图往上移动的效果。但是，不是控件往上移动，而且图片往上移动的效果。这种需要通过修改控件的高度就能达到这种效果。
    -   设置UIImageView的内容模式为按比例伸缩拉伸图片，直到覆盖整个控件。
    -   注意，当修改UIImageView的尺寸后，发现图片还是没有缩放，这需要把超出控件范围内的图片裁剪掉。
    -   头像也需要往上移动，当头部视图缩放到高度64的时候，头像刚好看不到，可以设置约束距离底部64.
    -   当头部视图高度为64的时候，就不需要在缩放了。
-   向下滚动
    -   如果视图的高度小于最开始的高度，先增加到原有高度。
    -   当视图高度大于等于原有高度，开始拉伸视图高度。


